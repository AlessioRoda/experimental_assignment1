<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>experimental_assignment1: scripts.state_machine Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">experimental_assignment1
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">experimental_assignment1</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>scripts</b></li><li class="navelem"><a class="el" href="namespacescripts_1_1state__machine.html">state_machine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">scripts.state_machine Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscripts_1_1state__machine_1_1_enter___room.html">Enter_Room</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscripts_1_1state__machine_1_1_explore.html">Explore</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscripts_1_1state__machine_1_1_try___solution.html">Try_Solution</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab9b8d83c522bc0987ac48ce3afd3d57"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1state__machine.html#aab9b8d83c522bc0987ac48ce3afd3d57">init_scene</a> ()</td></tr>
<tr class="separator:aab9b8d83c522bc0987ac48ce3afd3d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c349c901ced398a280de20a81c9a30"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1state__machine.html#af9c349c901ced398a280de20a81c9a30">main</a> ()</td></tr>
<tr class="separator:af9c349c901ced398a280de20a81c9a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0c49d9acae9a5746f312d942b4c43241"><td class="memItemLeft" align="right" valign="top"><a id="a0c49d9acae9a5746f312d942b4c43241"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pub_move</b> = None</td></tr>
<tr class="separator:a0c49d9acae9a5746f312d942b4c43241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72af143ca13cdf8e9d64aedf98c3f9d4"><td class="memItemLeft" align="right" valign="top"><a id="a72af143ca13cdf8e9d64aedf98c3f9d4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pub_ask_hint</b> = None</td></tr>
<tr class="separator:a72af143ca13cdf8e9d64aedf98c3f9d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9a2aa341d251da3577b30a3238c974"><td class="memItemLeft" align="right" valign="top"><a id="a4c9a2aa341d251da3577b30a3238c974"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pub_solution</b> = None</td></tr>
<tr class="separator:a4c9a2aa341d251da3577b30a3238c974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ede202a4ff3450d60e31d9316a5438e"><td class="memItemLeft" align="right" valign="top"><a id="a9ede202a4ff3450d60e31d9316a5438e"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>places</b> = []</td></tr>
<tr class="separator:a9ede202a4ff3450d60e31d9316a5438e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60d6218831e0d4a994b8d6ec147ac19"><td class="memItemLeft" align="right" valign="top"><a id="aa60d6218831e0d4a994b8d6ec147ac19"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>actual_pos</b> = None</td></tr>
<tr class="separator:aa60d6218831e0d4a994b8d6ec147ac19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d87bdeb778d02c407f58a2fec3c5d7b"><td class="memItemLeft" align="right" valign="top"><a id="a8d87bdeb778d02c407f58a2fec3c5d7b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>oracle</b> = False</td></tr>
<tr class="separator:a8d87bdeb778d02c407f58a2fec3c5d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd9758d44bdfbb51dff8e1f47f1bd0f3"><td class="memItemLeft" align="right" valign="top"><a id="afd9758d44bdfbb51dff8e1f47f1bd0f3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>response_complete</b> = None</td></tr>
<tr class="separator:afd9758d44bdfbb51dff8e1f47f1bd0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4494764fec8580f71d16100be12536a9"><td class="memItemLeft" align="right" valign="top"><a id="a4494764fec8580f71d16100be12536a9"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>people_ontology</b> = ['Col.Mustard', 'Miss.Scarlett', 'Mrs.Peacock']</td></tr>
<tr class="separator:a4494764fec8580f71d16100be12536a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55303445bf5a120eefb2302a231ea6e0"><td class="memItemLeft" align="right" valign="top"><a id="a55303445bf5a120eefb2302a231ea6e0"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>places_ontology</b> = ['Ballroom', 'Billiard_Room', 'Conservatory']</td></tr>
<tr class="separator:a55303445bf5a120eefb2302a231ea6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48a6b067f4059d721304503b86deb54a"><td class="memItemLeft" align="right" valign="top"><a id="a48a6b067f4059d721304503b86deb54a"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>weapons_ontology</b> = ['Candlestick', 'Dagger','LeadPipe']</td></tr>
<tr class="separator:a48a6b067f4059d721304503b86deb54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d9e73da70536eea546e20c6be315c8"><td class="memItemLeft" align="right" valign="top"><a id="ad9d9e73da70536eea546e20c6be315c8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>oracle_room</b> = None</td></tr>
<tr class="separator:ad9d9e73da70536eea546e20c6be315c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">.. module:: state_machine
   :platform: Unix
   :synopsis: Node implementing a finite state machine that represents the steps of the Cluedo game

.. moduleauthor:: Alessio Roda alessioroda98@gmail.com
This node permits to simulate the cluedo game 

Client: 
 /move_point: custom service to send the position to reach to the go_to_point node
 /hint_request: custom service to ask a hint message to oracle node
 /solution: custom service to send the possible solution to the oracle node

 It's performed as the node that permits to simulate the entire Cluedo game, it's the main of the whole architecture and with the smach 
 StateMachine can simulate the game by switching from three states:
 
 -MOVE: to simulate the motion of the robot from a room to another, it's referred to the Explore class. The game begins with the robot in the Oracle_Room 
    and in order to simulate the motion a Move custom service message with the actual 
    position of the robot and the target to reach is sent to the go_to_point node. Once the motion has been performed to the go_to_point node
    it can switch to two possible steps: if the robot wants to try a solution (and so in this case the variable oracle==True) it switches
    to the SOLUTION state, otherwise it switches to the ENTER_ROOM, that means that it wants to explore the rooms to collect hints

 -ENTER_ROOM: the state represented with the Enter_Room class that represents the moment in which the robot enters in a room to acquire hints.
          In order to get hints it sends a request to the oracle node, then it gets a hint defined by an ID
          and three arrays (what, where and who) that represent some information about weapons, places and people.
          After having obtained the hint it adds it to the ontology by using the MyArmor class methods, if the hypothesis uploaded is 
          completed and consistent, then the variable oracle=True, that means that the robot must go to the Oracle_Room to ask to the
          oracle if the hypothesis is the possible solution. 

 -SOLUTION: the state that represents the moment in which the robot is trying to generate a solution for the Cluedo game. It's defined with
        the Try_Solution class and gets the person, the place and the weapon associated with the complete and consistent hypothesis,
        then it sends them to the oracle node with the Solution custom service message. If the oracle confirms that the solution is exact
        the game ends, otherwise it continue by switching to the MOVE state.          </pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aab9b8d83c522bc0987ac48ce3afd3d57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab9b8d83c522bc0987ac48ce3afd3d57">&#9670;&nbsp;</a></span>init_scene()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def scripts.state_machine.init_scene </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to initialize the scene, it defines three rooms as Place objects, then defines the starting position in the Oracle_Room (x=0, y=0)
then it adds all the information about the scene to the armor ontology, by loading all the people, places and weapons.
When a new element is loaded in the ontology it must be disjointed respect to the others of the same class, in order to notify the ontology
that they are different. Finally it preforms 'REASON' command to update the ontology.</pre> 
</div>
</div>
<a id="af9c349c901ced398a280de20a81c9a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9c349c901ced398a280de20a81c9a30">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def scripts.state_machine.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">It's the main of the state_machine node, it performs the initialization of the node itself and initializes the services to the /move_point,
/hint_request and /solution topics. Then it loads the cluedo_ontology.owl ontology with the "load" method of the MyArmor class, calls 
the init_scene() method to initialize the scene and finally defines all the state of the FSM with smach.
</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
